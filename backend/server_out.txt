2026-02-05 01:47:30,701 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:30,701 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user")
2026-02-05 01:47:30,702 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 01:47:30,703 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("student")
2026-02-05 01:47:30,703 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 01:47:30,704 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("assessment")
2026-02-05 01:47:30,704 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 01:47:30,705 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("insight")
2026-02-05 01:47:30,705 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 01:47:30,706 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("action_plan")
2026-02-05 01:47:30,706 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-02-05 01:47:30,707 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 01:47:30,853 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:30,868 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.supabase_uid, user.full_name, user.role, user.is_subscribed, user.dodo_customer_id, user.subscription_status, user.created_at 
FROM user 
WHERE user.id = ?
2026-02-05 01:47:30,869 INFO sqlalchemy.engine.Engine [generated in 0.00084s] ('sarah-id',)
2026-02-05 01:47:30,874 INFO sqlalchemy.engine.Engine INSERT INTO user (id, email, supabase_uid, full_name, role, is_subscribed, dodo_customer_id, subscription_status) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at
2026-02-05 01:47:30,874 INFO sqlalchemy.engine.Engine [generated in 0.00088s] ('sarah-id', 'sarah-id@example.com', None, None, <UserRole.PARENT: 'parent'>, 0, None, 'inactive')
2026-02-05 01:47:30,881 INFO sqlalchemy.engine.Engine INSERT INTO student (id, parent_id, name, grade_level, school_type, baseline_stress_level, readiness_score) VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING created_at
2026-02-05 01:47:30,881 INFO sqlalchemy.engine.Engine [generated in 0.00132s] ('b43f8175-75da-49a9-8078-155aeb629022', 'sarah-id', 'Leo', '5th Grade', None, 0, 0)
2026-02-05 01:47:30,883 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 01:47:30,888 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:30,892 INFO sqlalchemy.engine.Engine SELECT student.id, student.parent_id, student.name, student.grade_level, student.school_type, student.baseline_stress_level, student.readiness_score, student.created_at 
FROM student 
WHERE student.id = ?
2026-02-05 01:47:30,893 INFO sqlalchemy.engine.Engine [generated in 0.00139s] ('b43f8175-75da-49a9-8078-155aeb629022',)
INFO:     127.0.0.1:64423 - "POST /api/v1/students/ HTTP/1.1" 200 OK
2026-02-05 01:47:30,898 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-05 01:47:33,186 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:33,187 INFO sqlalchemy.engine.Engine SELECT student.id, student.parent_id, student.name, student.grade_level, student.school_type, student.baseline_stress_level, student.readiness_score, student.created_at 
FROM student 
WHERE student.id = ?
2026-02-05 01:47:33,188 INFO sqlalchemy.engine.Engine [generated in 0.00036s] ('b43f8175-75da-49a9-8078-155aeb629022',)
2026-02-05 01:47:33,190 INFO sqlalchemy.engine.Engine INSERT INTO assessment (id, student_id, type, data) VALUES (?, ?, ?, ?) RETURNING created_at
2026-02-05 01:47:33,190 INFO sqlalchemy.engine.Engine [generated in 0.00044s] ('b2d10ce5-8046-4f06-9646-ef3ec49683d5', 'b43f8175-75da-49a9-8078-155aeb629022', <AssessmentType.WEEKLY_CHECKIN: 'weekly_checkin'>, '{"mood": 8, "focus": 7, "challenging_subject": "Math decimals", "win_of_the_week": "Read a lot"}')
2026-02-05 01:47:33,192 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 01:47:33,199 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:33,200 INFO sqlalchemy.engine.Engine SELECT assessment.id, assessment.student_id, assessment.type, assessment.data, assessment.analysis_results, assessment.created_at 
FROM assessment 
WHERE assessment.id = ?
2026-02-05 01:47:33,201 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ('b2d10ce5-8046-4f06-9646-ef3ec49683d5',)
OPENAI_API_KEY not set. Skipping AI analysis.
INFO:     127.0.0.1:64426 - "POST /api/v1/assessments/submit HTTP/1.1" 200 OK
2026-02-05 01:47:33,203 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-05 01:47:35,478 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:35,508 INFO sqlalchemy.engine.Engine SELECT student.id, student.parent_id, student.name, student.grade_level, student.school_type, student.baseline_stress_level, student.readiness_score, student.created_at 
FROM student 
WHERE student.id = ?
2026-02-05 01:47:35,509 INFO sqlalchemy.engine.Engine [generated in 0.00040s] ('b43f8175-75da-49a9-8078-155aeb629022',)
2026-02-05 01:47:35,512 INFO sqlalchemy.engine.Engine SELECT insight.student_id AS insight_student_id, insight.id AS insight_id, insight.assessment_id AS insight_assessment_id, insight.type AS insight_type, insight.title AS insight_title, insight.observation AS insight_observation, insight.interpretation AS insight_interpretation, insight.confidence_score AS insight_confidence_score, insight.scientific_references AS insight_scientific_references, insight.dimension AS insight_dimension, insight.is_viewed AS insight_is_viewed, insight.created_at AS insight_created_at 
FROM insight 
WHERE insight.student_id IN (?)
2026-02-05 01:47:35,512 INFO sqlalchemy.engine.Engine [generated in 0.00038s] ('b43f8175-75da-49a9-8078-155aeb629022',)
2026-02-05 01:47:35,514 INFO sqlalchemy.engine.Engine SELECT assessment.student_id AS assessment_student_id, assessment.id AS assessment_id, assessment.type AS assessment_type, assessment.data AS assessment_data, assessment.analysis_results AS assessment_analysis_results, assessment.created_at AS assessment_created_at 
FROM assessment 
WHERE assessment.student_id IN (?)
2026-02-05 01:47:35,514 INFO sqlalchemy.engine.Engine [generated in 0.00040s] ('b43f8175-75da-49a9-8078-155aeb629022',)
2026-02-05 01:47:35,516 INFO sqlalchemy.engine.Engine SELECT user.id AS user_id, user.email AS user_email, user.supabase_uid AS user_supabase_uid, user.full_name AS user_full_name, user.role AS user_role, user.is_subscribed AS user_is_subscribed, user.dodo_customer_id AS user_dodo_customer_id, user.subscription_status AS user_subscription_status, user.created_at AS user_created_at 
FROM user 
WHERE user.id IN (?)
2026-02-05 01:47:35,517 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ('sarah-id',)
2026-02-05 01:47:35,519 INFO sqlalchemy.engine.Engine SELECT action_plan.student_id AS action_plan_student_id, action_plan.id AS action_plan_id, action_plan.insight_id AS action_plan_insight_id, action_plan.title AS action_plan_title, action_plan.description AS action_plan_description, action_plan.role_target AS action_plan_role_target, action_plan.status AS action_plan_status, action_plan.due_date AS action_plan_due_date, action_plan.created_at AS action_plan_created_at 
FROM action_plan 
WHERE action_plan.student_id IN (?)
2026-02-05 01:47:35,520 INFO sqlalchemy.engine.Engine [generated in 0.00035s] ('b43f8175-75da-49a9-8078-155aeb629022',)
INFO:     127.0.0.1:64430 - "GET /api/v1/students/b43f8175-75da-49a9-8078-155aeb629022 HTTP/1.1" 200 OK
2026-02-05 01:47:35,521 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-05 01:47:36,407 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:36,407 INFO sqlalchemy.engine.Engine SELECT user.id, user.email, user.supabase_uid, user.full_name, user.role, user.is_subscribed, user.dodo_customer_id, user.subscription_status, user.created_at 
FROM user 
WHERE user.id = ?
2026-02-05 01:47:36,408 INFO sqlalchemy.engine.Engine [cached since 5.54s ago] ('sarah-id',)
2026-02-05 01:47:36,409 INFO sqlalchemy.engine.Engine INSERT INTO student (id, parent_id, name, grade_level, school_type, baseline_stress_level, readiness_score) VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING created_at
2026-02-05 01:47:36,409 INFO sqlalchemy.engine.Engine [cached since 5.529s ago] ('5af110a3-637c-428f-a99f-521f5446a744', 'sarah-id', 'Leo', '5th Grade', None, 0, 0)
2026-02-05 01:47:36,411 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 01:47:36,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:36,415 INFO sqlalchemy.engine.Engine SELECT student.id, student.parent_id, student.name, student.grade_level, student.school_type, student.baseline_stress_level, student.readiness_score, student.created_at 
FROM student 
WHERE student.id = ?
2026-02-05 01:47:36,415 INFO sqlalchemy.engine.Engine [cached since 5.523s ago] ('5af110a3-637c-428f-a99f-521f5446a744',)
INFO:     127.0.0.1:64431 - "POST /api/v1/students/ HTTP/1.1" 200 OK
2026-02-05 01:47:36,416 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-05 01:47:38,732 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:38,732 INFO sqlalchemy.engine.Engine SELECT student.id, student.parent_id, student.name, student.grade_level, student.school_type, student.baseline_stress_level, student.readiness_score, student.created_at 
FROM student 
WHERE student.id = ?
2026-02-05 01:47:38,732 INFO sqlalchemy.engine.Engine [cached since 5.545s ago] ('5af110a3-637c-428f-a99f-521f5446a744',)
2026-02-05 01:47:38,734 INFO sqlalchemy.engine.Engine INSERT INTO assessment (id, student_id, type, data) VALUES (?, ?, ?, ?) RETURNING created_at
2026-02-05 01:47:38,734 INFO sqlalchemy.engine.Engine [cached since 5.544s ago] ('2e1b8edd-cc0c-4bfa-aae5-bfeeefe0303b', '5af110a3-637c-428f-a99f-521f5446a744', <AssessmentType.WEEKLY_CHECKIN: 'weekly_checkin'>, '{"mood": 8, "focus": 7, "challenging_subject": "Math decimals", "win_of_the_week": "Read a lot"}')
2026-02-05 01:47:38,735 INFO sqlalchemy.engine.Engine COMMIT
2026-02-05 01:47:38,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:38,742 INFO sqlalchemy.engine.Engine SELECT assessment.id, assessment.student_id, assessment.type, assessment.data, assessment.analysis_results, assessment.created_at 
FROM assessment 
WHERE assessment.id = ?
2026-02-05 01:47:38,742 INFO sqlalchemy.engine.Engine [cached since 5.542s ago] ('2e1b8edd-cc0c-4bfa-aae5-bfeeefe0303b',)
OPENAI_API_KEY not set. Skipping AI analysis.
INFO:     127.0.0.1:64433 - "POST /api/v1/assessments/submit HTTP/1.1" 200 OK
2026-02-05 01:47:38,744 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-05 01:47:41,063 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-05 01:47:41,064 INFO sqlalchemy.engine.Engine SELECT student.id, student.parent_id, student.name, student.grade_level, student.school_type, student.baseline_stress_level, student.readiness_score, student.created_at 
FROM student 
WHERE student.id = ?
2026-02-05 01:47:41,064 INFO sqlalchemy.engine.Engine [cached since 5.556s ago] ('5af110a3-637c-428f-a99f-521f5446a744',)
2026-02-05 01:47:41,066 INFO sqlalchemy.engine.Engine SELECT insight.student_id AS insight_student_id, insight.id AS insight_id, insight.assessment_id AS insight_assessment_id, insight.type AS insight_type, insight.title AS insight_title, insight.observation AS insight_observation, insight.interpretation AS insight_interpretation, insight.confidence_score AS insight_confidence_score, insight.scientific_references AS insight_scientific_references, insight.dimension AS insight_dimension, insight.is_viewed AS insight_is_viewed, insight.created_at AS insight_created_at 
FROM insight 
WHERE insight.student_id IN (?)
2026-02-05 01:47:41,066 INFO sqlalchemy.engine.Engine [cached since 5.554s ago] ('5af110a3-637c-428f-a99f-521f5446a744',)
2026-02-05 01:47:41,067 INFO sqlalchemy.engine.Engine SELECT assessment.student_id AS assessment_student_id, assessment.id AS assessment_id, assessment.type AS assessment_type, assessment.data AS assessment_data, assessment.analysis_results AS assessment_analysis_results, assessment.created_at AS assessment_created_at 
FROM assessment 
WHERE assessment.student_id IN (?)
2026-02-05 01:47:41,067 INFO sqlalchemy.engine.Engine [cached since 5.553s ago] ('5af110a3-637c-428f-a99f-521f5446a744',)
2026-02-05 01:47:41,069 INFO sqlalchemy.engine.Engine SELECT user.id AS user_id, user.email AS user_email, user.supabase_uid AS user_supabase_uid, user.full_name AS user_full_name, user.role AS user_role, user.is_subscribed AS user_is_subscribed, user.dodo_customer_id AS user_dodo_customer_id, user.subscription_status AS user_subscription_status, user.created_at AS user_created_at 
FROM user 
WHERE user.id IN (?)
2026-02-05 01:47:41,069 INFO sqlalchemy.engine.Engine [cached since 5.553s ago] ('sarah-id',)
2026-02-05 01:47:41,070 INFO sqlalchemy.engine.Engine SELECT action_plan.student_id AS action_plan_student_id, action_plan.id AS action_plan_id, action_plan.insight_id AS action_plan_insight_id, action_plan.title AS action_plan_title, action_plan.description AS action_plan_description, action_plan.role_target AS action_plan_role_target, action_plan.status AS action_plan_status, action_plan.due_date AS action_plan_due_date, action_plan.created_at AS action_plan_created_at 
FROM action_plan 
WHERE action_plan.student_id IN (?)
2026-02-05 01:47:41,070 INFO sqlalchemy.engine.Engine [cached since 5.551s ago] ('5af110a3-637c-428f-a99f-521f5446a744',)
INFO:     127.0.0.1:64438 - "GET /api/v1/students/5af110a3-637c-428f-a99f-521f5446a744 HTTP/1.1" 200 OK
2026-02-05 01:47:41,072 INFO sqlalchemy.engine.Engine ROLLBACK
